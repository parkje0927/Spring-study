# 헥사고날 아키텍처
> '만들면서 배우는 클린 아키텍처' 책을 읽고 정리한 내용

## 계층형 아키텍처의 문제
- 계층형 아키텍처는 데이터베이스 주도 설계를 유도한다.
  - 데이터베이스 구조를 먼저 생각하고 이를 토대로 도메인 로직을 구현한다.
  - 이는 영속성 코드가 사실상 도메인 코드에 녹아 들어간다. => 유연하고 선택의 폭을 넓혀준다던 계층형 아키텍처 목표와 정반대
- 테스트하기가 어려워진다.
  - 책임이 섞이고 핵심 도메인 로직들이 퍼져나갈 확률이 높다.
  - 웹 계층 테스트에서 도메인 계층뿐만 아니라 영속성 계층도 모킹 해야한다.
- 서로 다른 기능을 동시에 작업하기가 힘들다.
  - 영속성 계층이 먼저 개발이 되어야하기 때문이다.

## 클린 아키텍처
- 모든 의존성은 도메인 로직을 향해 안쪽 방향으로 향한다.
- 도메인 로직의 결합을 제거하고 코드를 변경할 이유의 수를 줄일 수 있다.
- 변경할 이유가 적을수록 유지보수성이 더 좋아진다.